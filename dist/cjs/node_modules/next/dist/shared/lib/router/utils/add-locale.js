'use strict';

var addLocale = require('../../../../../../../_virtual/add-locale2.js');
var addPathPrefix = require('./add-path-prefix.js');
var pathHasPrefix = require('./path-has-prefix.js');

var hasRequiredAddLocale;
function requireAddLocale() {
  if (hasRequiredAddLocale) return addLocale.__exports;
  hasRequiredAddLocale = 1;
  (function (exports) {

    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    Object.defineProperty(exports, "addLocale", {
      enumerable: true,
      get: function () {
        return addLocale;
      }
    });
    const _addpathprefix = addPathPrefix.__require();
    const _pathhasprefix = pathHasPrefix.__require();
    function addLocale(path, locale, defaultLocale, ignorePrefix) {
      // If no locale was given or the locale is the default locale, we don't need
      // to prefix the path.
      if (!locale || locale === defaultLocale) return path;
      const lower = path.toLowerCase();
      // If the path is an API path or the path already has the locale prefix, we
      // don't need to prefix the path.
      if (!ignorePrefix) {
        if ((0, _pathhasprefix.pathHasPrefix)(lower, '/api')) return path;
        if ((0, _pathhasprefix.pathHasPrefix)(lower, "/" + locale.toLowerCase())) return path;
      }
      // Add the locale prefix to the path.
      return (0, _addpathprefix.addPathPrefix)(path, "/" + locale);
    }
  })(addLocale.__exports);
  return addLocale.__exports;
}

exports.__require = requireAddLocale;
//# sourceMappingURL=add-locale.js.map
